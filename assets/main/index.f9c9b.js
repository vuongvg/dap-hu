window.__require=function t(e,o,n){function i(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return i(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({ActionScreen:[function(t,e,o){"use strict";cc._RF.push(e,"1310bpqizlA157YGiuO40IK","ActionScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bottleIdle=null,e.bottleAction=null,e._spine=null,e}return i(e,t),e.prototype.onLoad=function(){c.eventTarget.on(c.SHOW_ACTION_SCREEN,this.showScreen,this),c.eventTarget.on(c.SHOW_START_SCREEN,this.hideScreen,this),c.eventTarget.on(c.PLAY_ANIM_NUT1,this.hideBottle,this),c.eventTarget.on(c.PLAY_ANIM_NUT2,this.hideBottle,this),c.eventTarget.on(c.PLAY_ANIM_NUT3,this.hideBottle,this),c.eventTarget.on(c.PLAY_ANIM_NUT4,this.hideBottle,this),this._spine=this.bottleIdle.getComponent(sp.Skeleton)},e.prototype.hideBottle=function(){this.bottleAction.active=!0,this.bottleIdle.active=!1},e.prototype.showScreen=function(){this.bottleAction.active=!1,this.bottleIdle.active=!0,this._spine.setAnimation(0,"Idle",!0),this.node.active=!0,this.node.position=cc.v3()},e.prototype.hideScreen=function(){this.node.active=!1},r([p(cc.Node)],e.prototype,"bottleIdle",void 0),r([p(cc.Node)],e.prototype,"bottleAction",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Events":"Events"}],BGController:[function(t,e,o){"use strict";cc._RF.push(e,"324d93lGeZMUb+buIap2qti","BGController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],BacksideFragment:[function(t,e,o){"use strict";cc._RF.push(e,"fb50bzsMYJG8JJhC0eI1A1c","BacksideFragment");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frontSideNode=null,e._offsetPos=null,e}return i(e,t),e.prototype.onLoad=function(){this._offsetPos=this.node.position.clone().sub(this.frontSideNode.position)},e.prototype.update=function(){this.node.angle=this.frontSideNode.angle,this.node.position=this.frontSideNode.position.clone().add(this._offsetPos)},r([a(cc.Node)],e.prototype,"frontSideNode",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],BehindFragment:[function(t,e,o){"use strict";cc._RF.push(e,"2c4e4fZ181Pkpt5G7hZMrfp","BehindFragment");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rg=null,e._physicsCollider=null,e._isDropped=!1,e}return i(e,t),e.prototype.onLoad=function(){this._rg=this.node.getComponent(cc.RigidBody),this._rg.type=cc.RigidBodyType.Static,this._physicsCollider=this.node.getComponent(cc.PhysicsCollider),this._physicsCollider.enabled=!1,c.eventTarget.on(c.RESET_FRAGMENT,this.reset,this),c.eventTarget.on(c.SHAKE_FRAGMENT,this.shakeFragment,this)},e.prototype.shakeFragment=function(){this._isDropped||cc.tween(this.node).repeat(2,cc.tween(this.node).by(.05,{position:cc.v3(-10,-10)}).by(.05,{position:cc.v3(10,10)})).start()},e.prototype.onDrop=function(){var t=this;this._isDropped=!0;var e=cc.v3(100*Math.random()-50,100*Math.random());cc.tween(this.node).by(1,{position:e}).call(function(){t._rg.type=cc.RigidBodyType.Dynamic,t._rg.gravityScale=10,t._physicsCollider.enabled=!0}).start()},e.prototype.reset=function(){this._physicsCollider.enabled=!1,this._rg.type=cc.RigidBodyType.Static,this.node.angle=0},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],BreakingBottleController:[function(t,e,o){"use strict";cc._RF.push(e,"6fcd79x0JdPZKDzUr010UMy","BreakingBottleController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=t("../Global"),a=(t("./FragmentController"),cc._decorator),p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hammerNode=null,e._spine=null,e._skins=["Ga","Gai_lung","Gay","Bua"],e._countFragment=0,e._fragmentsPosition=[],e._fragmentsNode=[],e._bodyFragments=[],e._isEnd=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.beatGuild=function(){},e.prototype.start=function(){this.resetHammer()},e.prototype.resetBottle=function(){var t=this;this._countFragment=0,this._bodyFragments=[],this._spine.setSkin(this._skins[s.Global.tool%this._skins.length]),this._fragmentsNode.forEach(function(e,o){e.position=t._fragmentsPosition[o]}),c.eventTarget.emit(c.RESET_FRAGMENT),this._isEnd=!1},e.prototype.onHammer=function(t){var e=this;cc.Tween.stopAllByTarget(this.hammerNode),this._spine.setAnimation(0,"Dap4",!1),this.hammerNode.active=!0,cc.tween(this.hammerNode).to(.5,{position:cc.v3(t.x,t.y,0)}).delay(.3).to(.3,{position:cc.v3(400,-400)}).call(function(){return e.hammerNode.active=!1}).start()},e.prototype.checkFragment=function(t){this._isEnd||(t.includes("nap")||this._bodyFragments.push(t),this._countFragment++,8==this._countFragment&&(this.scheduleOnce(function(){return c.eventTarget.emit(c.SHOW_CARD_POPUP)},1.5),this._isEnd=!0),6==this._bodyFragments.length&&c.eventTarget.emit(c.DROP_ALL_FRAGMENT))},e.prototype.onTouchStart=function(t){c.eventTarget.emit(c.STOP_GUILD_TAP);var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e);c.eventTarget.emit(c.CHECK_TOUCH,o),this._spine.setSkin(this._skins[s.Global.tool%this._skins.length])},e.prototype.onTouchEnd=function(){},e.prototype.resetHammer=function(){this.hammerNode.position=cc.v3(300),this.hammerNode.active=!1},r([l(cc.Node)],e.prototype,"hammerNode",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Events":"Events","../Global":"Global","./FragmentController":"FragmentController"}],BreakingBottleScreen:[function(t,e,o){"use strict";cc._RF.push(e,"90267gmddZPkLBW/eIiYJR6","BreakingBottleScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){c.eventTarget.on(c.SHOW_ACTION_SCREEN,this.showScreen,this),c.eventTarget.on(c.SHOW_START_SCREEN,this.hideScreen,this),this.node.position=cc.v3(0,0,0),this.node.opacity=0},e.prototype.showScreen=function(){this.node.opacity=255,this.node.position=cc.v3(),c.eventTarget.emit(c.RESET_BOTTLE)},e.prototype.hideScreen=function(){this.node.opacity=0},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],BreakingJarController:[function(t,e,o){"use strict";cc._RF.push(e,"ae421EJQO1Mb6Dbqf2y4QlV","BreakingJarController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=t("./BehindFragment"),a=t("./FragmentJarController"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fragmentSpecialNodes=[],e.hammerNode=null,e.behindJar=null,e.particleFont=null,e.particleBehind=null,e.mask=null,e._countFragment=0,e._fragmentsPosition=[],e._fontFragments=[],e._bodyFragments=[],e._isEnd=!1,e._behindJarChild=[],e._behindJarChildPosition=[],e._hamerAvatar=null,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),c.eventTarget.on(c.CHECK_FRAGMENT,this.checkFragment,this),c.eventTarget.on(c.HAMMER,this.onHammer,this),c.eventTarget.on(c.RESET_BOTTLE,this.resetBottle,this),c.eventTarget.on(c.BEAT_GUILD,this.beatGuild,this),c.eventTarget.on(c.SHOW_FOG,this.showFog,this),this._fontFragments=this.getComponentsInChildren(a.default).map(function(t){return t.node}),this._fragmentsPosition=this._fontFragments.map(function(t){return t.position.clone()}),this._behindJarChild=this.behindJar.children.map(function(t){return t.getComponent(s.default)}),this._behindJarChildPosition=this.behindJar.children.map(function(t){return t.position.clone()}),this._hamerAvatar=this.hammerNode.getComponentInChildren(cc.Sprite),this.initFog()},e.prototype.initFog=function(){this.particleBehind.node.active=!1,this.particleFont.node.active=!1,this.particleFont.stopSystem(),this.particleBehind.stopSystem(),this.mask.opacity=0},e.prototype.showFog=function(t){this._countFragment>0||(this.particleFont.node.active=!0,this.particleBehind.node.active=!0,this.particleFont.node.position=t,this.particleFont.resetSystem(),this.particleBehind.resetSystem(),this.mask.active=!0,this.mask.opacity=200,this.mask.scale=1,cc.tween(this.mask).to(2,{scale:1.5}).to(5,{opacity:255,scale:2}).start())},e.prototype.checkFragment=function(t){var e=this,o=this._fontFragments.findIndex(function(e){return e===t});if(this._behindJarChild[o],!this._isEnd){if(this._bodyFragments.push(t.name),this._countFragment++,2==this._countFragment&&cc.tween(this.mask).to(1,{opacity:200}).start(),3==this._countFragment)return this.particleFont.stopSystem(),this.particleBehind.stopSystem(),cc.Tween.stopAllByTarget(this.mask),cc.tween(this.mask).to(1,{opacity:0}).call(function(){c.eventTarget.emit(c.DROP_ALL_FRAGMENT),e._behindJarChild.forEach(function(t){return t.onDrop()})}).delay(2).call(function(){return c.eventTarget.emit(c.SHOW_CARD_POPUP)}).start(),void(this._isEnd=!0);var n=this.fragmentSpecialNodes.some(function(e){return e===t}),i=this.fragmentSpecialNodes.every(function(t){return t.getComponent(a.default).isDropped});n&&i&&c.eventTarget.emit(c.DROP_TOP_FRAGMENT)}},e.prototype.beatGuild=function(){this.onHammer(cc.v2(-50,-50))},e.prototype.start=function(){this.resetHammer()},e.prototype.resetBottle=function(){var t=this;this._countFragment=0,this._bodyFragments=[],this._fontFragments.forEach(function(e,o){e.position=t._fragmentsPosition[o]}),this._behindJarChild.forEach(function(e,o){e.node.position=t._behindJarChildPosition[o],e.reset()}),c.eventTarget.emit(c.RESET_FRAGMENT),this._isEnd=!1,this.initFog()},e.prototype.onHammer=function(t){var e=this;this.hammerNode.active=!0,cc.Tween.stopAllByTarget(this.hammerNode),cc.tween(this.hammerNode).to(.5,{position:cc.v3(t.x,t.y,0)}).call(function(){return e.shakeNode()}).delay(.1).to(.2,{position:cc.v3(400,-400)}).call(function(){return e.hammerNode.active=!1}).start(),cc.tween(this._hamerAvatar.node).delay(.2).to(.2,{angle:-90}).to(.05,{angle:0}).call(function(){return c.eventTarget.emit(c.PLAY_BREAKING_SOUND)}).start()},e.prototype.shakeNode=function(){cc.director.getPhysicsManager().enabled=!1,c.eventTarget.emit(c.SHAKE_FRAGMENT),cc.tween(this.node).delay(.15).call(function(){return cc.director.getPhysicsManager().enabled=!0}).start()},e.prototype.onTouchStart=function(t){console.log("onTouchStart",1),c.eventTarget.emit(c.STOP_GUILD_TAP);var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e);c.eventTarget.emit(c.CHECK_TOUCH,o)},e.prototype.onTouchEnd=function(){},e.prototype.resetHammer=function(){this.hammerNode.position=cc.v3(300),this.hammerNode.active=!1},r([u([cc.Node])],e.prototype,"fragmentSpecialNodes",void 0),r([u(cc.Node)],e.prototype,"hammerNode",void 0),r([u(cc.Node)],e.prototype,"behindJar",void 0),r([u(cc.ParticleSystem)],e.prototype,"particleFont",void 0),r([u(cc.ParticleSystem)],e.prototype,"particleBehind",void 0),r([u(cc.Node)],e.prototype,"mask",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Events":"Events","./BehindFragment":"BehindFragment","./FragmentJarController":"FragmentJarController"}],CardPopup:[function(t,e,o){"use strict";cc._RF.push(e,"d57b9GtFClCfIU7h+numARU","CardPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this._replayBtn=this.node.getComponentInChildren(cc.Button).node,this.node.active=!1,this.node.position=cc.v3(),c.eventTarget.on(c.SHOW_CARD_POPUP,this.showCard,this),this._replayBtn.on("click",this.onReplayBtnClick,this)},e.prototype.showCard=function(){this.node.active=!0},e.prototype.onReplayBtnClick=function(){this.node.active=!1,c.eventTarget.emit(c.SHOW_START_SCREEN),c.eventTarget.emit(c.STOP_ANIM_CHUM)},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],ChumController:[function(t,e,o){"use strict";cc._RF.push(e,"d7d73L1pxdMD4Pi4WPAHUMG","ChumController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spine=null,e._count=0,e._actions=[],e}return i(e,t),e.prototype.onLoad=function(){this.spine=this.node.getComponent(sp.Skeleton),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this._actions=[this.playAnimationNut1,this.playAnimationNut2,this.playAnimationNut3,this.playAnimationNut4],c.eventTarget.on(c.STOP_ANIM_CHUM,this.stopAnimation,this),c.eventTarget.on(c.PLAY_ANIM_NUT1,this.playAnimationNut1,this),c.eventTarget.on(c.PLAY_ANIM_NUT2,this.playAnimationNut2,this),c.eventTarget.on(c.PLAY_ANIM_NUT3,this.playAnimationNut3,this),c.eventTarget.on(c.PLAY_ANIM_NUT4,this.playAnimationNut4,this)},e.prototype.onTouchStart=function(){},e.prototype.stopAnimation=function(){this.spine.setAnimation(0,"default",!0)},e.prototype.playAnimationNut1=function(){this.playAnimation("nut1"),this.spine.timeScale=1},e.prototype.playAnimationNut2=function(){this.playAnimation("nut2"),this.spine.timeScale=1},e.prototype.playAnimationNut3=function(){this.node.active=!0,this.playAnimation("nut3"),this.spine.timeScale=.5},e.prototype.playAnimationNut4=function(){this.playAnimation("nut4",!1),this.spine.timeScale=.5},e.prototype.playAnimation=function(t,e){void 0===e&&(e=!0),this.node.active=!0,this.spine.setAnimation(0,t,e)},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],Events:[function(t,e,o){"use strict";cc._RF.push(e,"bf46592JJVG6LXGcSiZuYIS","Events"),Object.defineProperty(o,"__esModule",{value:!0}),o.SHOW_FOG=o.SHAKE_FRAGMENT=o.DROP_BEHIND_FRAGMENT=o.DROP_TOP_FRAGMENT=o.DROP_ALL_FRAGMENT=o.RESET_FRAGMENT=o.RESET_BOTTLE=o.HAMMER=o.CHECK_FRAGMENT=o.CHECK_TOUCH=o.STOP_GUILD_TAP=o.START_GUILD_TAP=o.STOP_GUILD_ROTATE=o.BEAT_GUILD=o.ROTATE_GUILD=o.PLAY_ANIM_NUT4=o.PLAY_ANIM_NUT3=o.PLAY_ANIM_NUT2=o.PLAY_ANIM_NUT1=o.PLAY_DROP_SOUND=o.PLAY_BREAKING_SOUND=o.PLAY_ROLLING_SOUND=o.SHOW_SELECT_POPUP=o.STOP_ANIM_CHUM=o.SHOW_CARD_POPUP=o.SHOW_START_SCREEN=o.SHOW_ACTION_SCREEN=o.eventTarget=void 0,o.eventTarget=new cc.EventTarget,o.SHOW_ACTION_SCREEN="SHOW_ACTION_SCREEN",o.SHOW_START_SCREEN="SHOW_START_SCREEN",o.SHOW_CARD_POPUP="SHOW_CARD_POPUP",o.STOP_ANIM_CHUM="STOP_ANIM_CHUM",o.SHOW_SELECT_POPUP="SHOW_SELECT_POPUP",o.PLAY_ROLLING_SOUND="PLAY_ROLLING_SOUND",o.PLAY_BREAKING_SOUND="PLAY_BREAKING_SOUND",o.PLAY_DROP_SOUND="PLAY_DROP_SOUND",o.PLAY_ANIM_NUT1="PLAY_ANIM_NUT1",o.PLAY_ANIM_NUT2="PLAY_ANIM_NUT2",o.PLAY_ANIM_NUT3="PLAY_ANIM_NUT3",o.PLAY_ANIM_NUT4="PLAY_ANIM_NUT4",o.ROTATE_GUILD="ROTATE_GUILD",o.BEAT_GUILD="BEAT_GUILD",o.STOP_GUILD_ROTATE="STOP_GUILD_ROTATE",o.START_GUILD_TAP="START_GUILD_TAP",o.STOP_GUILD_TAP="STOP_GUILD_TAP",o.CHECK_TOUCH="CHECK_TOUCH",o.CHECK_FRAGMENT="CHECK_FRAGMENT",o.HAMMER="HAMMER",o.RESET_BOTTLE="RESET_BOTTLE",o.RESET_FRAGMENT="RESET_FRAGMENT",o.DROP_ALL_FRAGMENT="DROP_ALL_FRAGMENT",o.DROP_TOP_FRAGMENT="DROP_TOP_FRAGMENT",o.DROP_BEHIND_FRAGMENT="DROP_BEHIND_FRAGMENT",o.SHAKE_FRAGMENT="SHAKE_FRAGMENT",o.SHOW_FOG="SHOW_FOG",cc._RF.pop()},{}],FragmentController:[function(t,e,o){"use strict";cc._RF.push(e,"ad9b7GDeB1K5qyTea3TjVfH","FragmentController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._collider=null,e._physicsCollider=null,e._rg=null,e._siblingIndex=0,e._isDropped=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this._collider=this.node.getComponent(cc.PolygonCollider),this._physicsCollider=this.node.getComponent(cc.PhysicsPolygonCollider),this._physicsCollider.points=this._collider.points,this._rg=this.node.getComponent(cc.RigidBody),this._siblingIndex=this.node.getSiblingIndex(),this.reset(),c.eventTarget.on(c.CHECK_TOUCH,this.checkTouch,this),c.eventTarget.on(c.RESET_FRAGMENT,this.reset,this),c.eventTarget.on(c.DROP_ALL_FRAGMENT,function(){return t.node.name.includes("nap")&&t.dropFragment()},this)},e.prototype.reset=function(){this._physicsCollider.enabled=!1,this._rg.type=cc.RigidBodyType.Static,this.node.angle=0,this.node.setSiblingIndex(this._siblingIndex),this._isDropped=!1},e.prototype.checkTouch=function(t){if(!this._isDropped){var e=t.clone().subtract(cc.v2(this.node.position.x,this.node.position.y));cc.Intersection.pointInPolygon(e,this._collider.points)&&(c.eventTarget.emit(c.HAMMER,t),this.dropFragment())}},e.prototype.dropFragment=function(){var t=this;this._isDropped=!0;var e=this.node.position;this.node.setSiblingIndex(-1),c.eventTarget.emit(c.CHECK_FRAGMENT,this.node.name),cc.tween(this.node).delay(.5).call(function(){c.eventTarget.emit(c.PLAY_DROP_SOUND)}).to(.1,{scale:.9}).to(.1,{scale:1.05}).to(.2,{position:e.clone().multiplyScalar(1.2)}).call(function(){t._physicsCollider.enabled=!0,t._rg.type=cc.RigidBodyType.Dynamic,t._rg.gravityScale=10}).delay(1).to(0,{scale:1}).start()},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],FragmentJarController:[function(t,e,o){"use strict";cc._RF.push(e,"6c740VuPjRONJYF5qy87yUs","FragmentJarController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fragmentLink=null,e.isBottom=!1,e.isDropped=!1,e._physicsCollider=null,e._physicsColliderFragmentLink=null,e._rg=null,e._siblingIndex=0,e._numberOfBeats=3,e._slots=[],e}return i(e,t),e.prototype.onLoad=function(){this._physicsCollider=this.node.getComponent(cc.PhysicsPolygonCollider),this._physicsColliderFragmentLink=this.fragmentLink&&this.fragmentLink.getComponent(cc.PhysicsPolygonCollider),this._rg=this.node.getComponent(cc.RigidBody),this._siblingIndex=this.node.getSiblingIndex(),this._slots=this.node.children,this._slots.forEach(function(t){return t.active=!1}),this.reset(),c.eventTarget.on(c.CHECK_TOUCH,this.checkTouch,this),c.eventTarget.on(c.RESET_FRAGMENT,this.reset,this),c.eventTarget.on(c.DROP_ALL_FRAGMENT,this.dropFragment,this),c.eventTarget.on(c.DROP_TOP_FRAGMENT,this.dropFragmentTop,this),c.eventTarget.on(c.SHAKE_FRAGMENT,this.shakeFragment,this)},e.prototype.reset=function(){this._physicsCollider.enabled=!1,this._rg.type=cc.RigidBodyType.Static,this.node.angle=0,this.node.setSiblingIndex(this._siblingIndex),this.isDropped=!1,this._numberOfBeats=3,this.node.children.forEach(function(t){return t.active=!1})},e.prototype.shakeFragment=function(){this.isDropped||cc.tween(this.node).repeat(2,cc.tween(this.node).by(.05,{position:cc.v3(-10,-10)}).by(.05,{position:cc.v3(10,10)})).start()},e.prototype.checkTouch=function(t){var e=this;if(!this.isDropped&&!this.isBottom){var o=t.clone().subtract(cc.v2(this.node.position.x,this.node.position.y)),n=cc.Intersection.pointInPolygon(o,this._physicsCollider.points),i=!1;if(this._physicsColliderFragmentLink){var r=t.clone().subtract(cc.v2(this.fragmentLink.position.x,this.fragmentLink.position.y));i=cc.Intersection.pointInPolygon(r,this._physicsColliderFragmentLink.points)}(n||i)&&(this._numberOfBeats--,this._slots.length>0&&cc.tween(this).delay(.5).call(function(){e._slots[Math.min(2-e._numberOfBeats,1)].active=!0}).start(),c.eventTarget.emit(c.HAMMER,t),1==this._numberOfBeats&&c.eventTarget.emit(c.SHOW_FOG,this.node.position),this._numberOfBeats>0||this.dropFragment())}},e.prototype.dropFragmentTop=function(){this.isBottom||this.dropFragment()},e.prototype.dropFragment=function(){var t=this;if(!this.isDropped){this.isDropped=!0;var e=this.node.position;c.eventTarget.emit(c.CHECK_FRAGMENT,this.node),cc.tween(this.node).delay(.5).call(function(){c.eventTarget.emit(c.PLAY_DROP_SOUND),t.node.setSiblingIndex(-1)}).to(.1,{scale:.9}).to(.1,{scale:1.05}).to(.2,{position:e.clone().multiplyScalar(1.2)}).call(function(){t._physicsCollider.enabled=!0,t._rg.type=cc.RigidBodyType.Dynamic,t._rg.gravityScale=10}).delay(1).to(0,{scale:1}).start()}},r([p(cc.Node)],e.prototype,"fragmentLink",void 0),r([p],e.prototype,"isBottom",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Events":"Events"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"183ca7N4SxOJpqhpTBHMK1y","Global"),Object.defineProperty(o,"__esModule",{value:!0}),o.Global=void 0;var n=function(){function t(){}return t.tool=0,t}();o.Global=n,cc._RF.pop()},{}],HuController:[function(t,e,o){"use strict";cc._RF.push(e,"ba0b5Nq4fNP4KvnrykIXx3T","HuController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._z=0,e._count=0,e._isShake=!1,e._debug=null,e}return i(e,t),e.prototype.onLoad=function(){this._debug=this.node.getComponentInChildren(cc.Label),cc.sys.os===cc.sys.OS_IOS?this.setDeviceMotionIOS():this.scheduleOnce(this.setDeviceMotion,2)},e.prototype.setDeviceMotionIOS=function(){var t=this,e=function(e){t._debug.string=e};e("setDeviceMotionIOS"),window.DeviceMotionEvent?"function"==typeof DeviceMotionEvent.requestPermission?(e("requestPermission"),DeviceMotionEvent.requestPermission().then(function(o){e("requestPermission: "+o),"granted"===o?(e("granted setDeviceMotion"),t.setDeviceMotion()):(e("Kh\xf4ng \u0111\u01b0\u1ee3c c\u1ea5p quy\u1ec1n s\u1eed d\u1ee5ng DeviceMotion"),console.log("Kh\xf4ng \u0111\u01b0\u1ee3c c\u1ea5p quy\u1ec1n s\u1eed d\u1ee5ng DeviceMotion"))}).catch(function(t){console.error(t),e("Kh\xf4ng \u0111\u01b0\u1ee3c c\u1ea5p quy\u1ec1n s\u1eed d\u1ee5ng DeviceMotion")})):(e("Kh\xf4ng h\u1ed7 tr\u1ee3 requestPermission"),this.setDeviceMotion()):(e("Tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 DeviceMotion API"),console.log("Tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 DeviceMotion API"))},e.prototype.setDeviceMotion=function(){var t=this;window.addEventListener("devicemotion",function(e){if(e.accelerationIncludingGravity){var o=e.accelerationIncludingGravity.x,n=e.accelerationIncludingGravity.y,i=e.accelerationIncludingGravity.z;(o-t._x>5||n-t._y>5||i-t._z>5)&&t._isShake&&t._count++,(o-t._x<-5||n-t._y<-5||i-t._z<-5)&&(t._isShake||t._count++),t._count>0&&t.scheduleOnce(function(){t._count=0},2),t._count>5&&(t._count=0,t.shakeBottle()),t._x=o,t._y=n,t._z=i}})},e.prototype.shakeBottle=function(){var t=this;c.eventTarget.emit(c.PLAY_ROLLING_SOUND),cc.tween(this.node).repeat(5,cc.tween(this.node).call(function(){return t.vibratePhone()}).to(.2,{position:cc.v3(40,this.randomY(),0)}).to(.2,{position:cc.v3(-40,this.randomY(),0)})).to(.2,{position:cc.v3(0,0,0)}).start()},e.prototype.vibratePhone=function(){"vibrate"in navigator&&navigator.vibrate(200)},e.prototype.randomY=function(){return 100*Math.random()-50},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"5c17dVoBKxN+osZDE+cK6E9","Main");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._bg=null,e._x=0,e._y=0,e._z=0,e._count=0,e._isShake=!1,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onSkew=function(){var t;this._bg=this.node.getComponentInChildren(cc.Sprite),t=this._bg.node,cc.resources.loadDir("Anim_MB",cc.SpriteFrame,function(e,o){if(e)console.error("L\u1ed7i load \u1ea3nh:",e);else{var n=cc.AnimationClip.createWithSpriteFrames(o,o.length);console.log("spriteFrames.length",o.length),n.name="bottleSpin",n.wrapMode=cc.WrapMode.Loop,n.speed=1;var i=t.getComponent(cc.Animation)||t.addComponent(cc.Animation);i.addClip(n),i.play("bottleSpin")}})},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.setShake()},2)},e.prototype.setShake=function(){var t=this;window.addEventListener("devicemotion",function(e){if(e.accelerationIncludingGravity){var o=e.accelerationIncludingGravity.x,n=e.accelerationIncludingGravity.y,i=e.accelerationIncludingGravity.z;(o-t._x>5||n-t._y>5||i-t._z>5)&&t._isShake&&t._count++,(o-t._x<-5||n-t._y<-5||i-t._z<-5)&&(t._isShake||t._count++),t._count>0&&t.scheduleOnce(function(){t._count=0},1.5),t._count>5&&(t._count=0,cc.tween(t._bg.node).to(.2,{position:cc.v3(20,0,0)}).to(.2,{position:cc.v3(-20,0,0)}).to(.2,{position:cc.v3(20,0,0)}).to(.2,{position:cc.v3(-20,0,0)}).to(.2,{position:cc.v3(0,0,0)}).start()),t._x=o,t._y=n,t._z=i}})},r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],RotateTutorialController:[function(t,e,o){"use strict";cc._RF.push(e,"245c48ce35CRLV2V9GMpP7F","RotateTutorialController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this._hand=this.node.children[0],c.eventTarget.on(c.STOP_GUILD_ROTATE,this.stopGuild,this),this.tutorialRotate()},e.prototype.stopGuild=function(){cc.Tween.stopAllByTarget(this._hand),this._hand.active=!1},e.prototype.tutorialRotate=function(){this._hand.active=!0,cc.tween(this._hand).repeatForever(cc.tween(this._hand).to(0,{position:cc.v3(350)}).to(.5,{angle:-10}).to(.5,{angle:15}).call(function(){return c.eventTarget.emit(c.ROTATE_GUILD)}).to(.8,{position:cc.v3(-150)})).start()},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],SelectPopup:[function(t,e,o){"use strict";cc._RF.push(e,"1cbf3bBsL1FJ7hGduZb7ZMO","SelectPopup");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._okBtnNode=null,e}return i(e,t),e.prototype.onLoad=function(){this._okBtnNode=this.getComponentInChildren(cc.Button).node,this.node.active=!1,this.node.position=cc.v3(),c.eventTarget.on(c.SHOW_SELECT_POPUP,this.showPopup,this),this._okBtnNode.on("click",this.onOkBtnClick,this)},e.prototype.showPopup=function(){this.node.active=!0},e.prototype.onOkBtnClick=function(){this.node.active=!1,c.eventTarget.emit(c.SHOW_ACTION_SCREEN)},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"bccdbjIIvVBZoLltHmAttIC","SoundManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Events"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rollingSound=null,e.breakingSound=null,e.dropSound=null,e}return i(e,t),e.prototype.onLoad=function(){c.eventTarget.on(c.PLAY_ROLLING_SOUND,this.playRollingSound,this),c.eventTarget.on(c.PLAY_BREAKING_SOUND,this.playBreakingSound,this),c.eventTarget.on(c.PLAY_DROP_SOUND,this.playDropSound,this)},e.prototype.playRollingSound=function(){this.rollingSound.play()},e.prototype.playBreakingSound=function(){this.breakingSound.play()},e.prototype.playDropSound=function(){this.dropSound.play()},r([p(cc.AudioSource)],e.prototype,"rollingSound",void 0),r([p(cc.AudioSource)],e.prototype,"breakingSound",void 0),r([p(cc.AudioSource)],e.prototype,"dropSound",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Events":"Events"}],StartScreen:[function(t,e,o){"use strict";cc._RF.push(e,"4cdbdL97VxHIokBkhUMm2qL","StartScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=t("../Global"),a=cc._decorator,p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectBtnNode=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.selectBtnNode.on("click",this.onSelectBtnClick,this),c.eventTarget.on(c.SHOW_START_SCREEN,function(){return t.node.active=!0},this),c.eventTarget.on(c.SHOW_ACTION_SCREEN,function(){return t.node.active=!1},this)},e.prototype.onSelectBtnClick=function(){s.Global.tool=3,c.eventTarget.emit(c.SHOW_ACTION_SCREEN),c.eventTarget.emit(c.START_GUILD_TAP)},r([l(cc.Node)],e.prototype,"selectBtnNode",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Events":"Events","../Global":"Global"}],TapTutorialController:[function(t,e,o){"use strict";cc._RF.push(e,"2c2cbdHwQFCdpQMA/zXzBGt","TapTutorialController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this._hand=this.node.children[0],c.eventTarget.on(c.STOP_GUILD_TAP,this.stopGuild,this),c.eventTarget.on(c.START_GUILD_TAP,this.tutorialTap,this)},e.prototype.stopGuild=function(){cc.Tween.stopAllByTarget(this._hand),this._hand.active=!1},e.prototype.tutorialTap=function(){this._hand.active=!0,cc.tween(this._hand).repeatForever(cc.tween(this._hand).to(0,{position:cc.v3(120,100)}).to(.2,{angle:15}).to(.2,{angle:-15}).to(.15,{position:cc.v3(110,80)}).call(function(){return c.eventTarget.emit(c.BEAT_GUILD)}).delay(1)).start()},e.prototype.tutorialTapForFragements=function(){this._hand.active=!0,cc.tween(this._hand).repeatForever(cc.tween(this._hand).to(0,{position:cc.v3(120,100),opacity:255}).to(.2,{angle:15}).to(.2,{angle:-15}).to(.15,{position:cc.v3(110,80)}).call(function(){return c.eventTarget.emit(c.BEAT_GUILD)}).to(.5,{opacity:0}).delay(2)).start()},r([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],TheController:[function(t,e,o){"use strict";cc._RF.push(e,"16a952mWXdLX4fDDoWJWpu4","TheController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frames=[],e._spine=null,e._skins=["goi","the"],e._textSprite=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this._textSprite=this.getComponentInChildren(cc.Sprite),this._spine=this.node.getComponent(sp.Skeleton),this._spine.setCompleteListener(function(e){"Open"==e.animation.name&&t._spine.setAnimation(0,"Idle",!0)})},e.prototype.onEnable=function(){this._spine.setAnimation(0,"Open",!1),this._spine.timeScale=.5;var t=this.getRandomInt(0,this._skins.length);this._spine.setSkin(this._skins[t]),this._textSprite.spriteFrame=this.frames[t]},e.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},r([a([cc.SpriteFrame])],e.prototype,"frames",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"1e4fa50nAtL1YyEWX980C3J","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}]},{},["Events","BGController","BacksideFragment","BehindFragment","BreakingBottleController","BreakingJarController","ChumController","FragmentController","FragmentJarController","HuController","Main","TheController","Global","SoundManager","RotateTutorialController","TapTutorialController","ActionScreen","BreakingBottleScreen","CardPopup","SelectPopup","StartScreen","Utils"]);