window.__require=function t(e,o,n){function r(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({BGController:[function(t,e,o){"use strict";cc._RF.push(e,"324d93lGeZMUb+buIap2qti","BGController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],BehindFragment:[function(t,e,o){"use strict";cc._RF.push(e,"2c4e4fZ181Pkpt5G7hZMrfp","BehindFragment");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=t("../Global"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rg=null,e._physicsCollider=null,e._isDropped=!1,e}return r(e,t),e.prototype.onLoad=function(){this._rg=this.node.getComponent(cc.RigidBody),this._rg.type=cc.RigidBodyType.Static,this._physicsCollider=this.node.getComponent(cc.PhysicsCollider),this._physicsCollider.enabled=!1,c.eventTarget.on(c.RESET_FRAGMENT,this.reset,this),c.eventTarget.on(c.SHAKE_FRAGMENT,this.shakeFragment,this)},e.prototype.shakeFragment=function(){this._isDropped||cc.tween(this.node).repeat(2,cc.tween(this.node).by(.05,{position:cc.v3(-10,-10)}).by(.05,{position:cc.v3(10,10)})).start()},e.prototype.onDrop=function(){var t=this;this._isDropped=!0,cc.tween(this.node).repeat(4,cc.tween(this.node).by(s.Global.getRandomTimeSkew(),{position:cc.v3(-5,-5)}).by(s.Global.getRandomTimeSkew(),{position:cc.v3(5,5)})).start(),cc.tween(this.node).to(1,{scale:.9}).call(function(){t._rg.type=cc.RigidBodyType.Dynamic,t._rg.gravityScale=10,t._physicsCollider.enabled=!0}).start()},e.prototype.reset=function(){this._physicsCollider.enabled=!1,this._rg.type=cc.RigidBodyType.Static,this.node.angle=0,this.node.scale=1},i([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../Events":"Events","../Global":"Global"}],BreakingJarController:[function(t,e,o){"use strict";cc._RF.push(e,"ae421EJQO1Mb6Dbqf2y4QlV","BreakingJarController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=t("./BehindFragment"),a=t("./FragmentJarController"),p=cc._decorator,l=p.ccclass,h=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hammerNode=null,e.behindJar=null,e.particleFont=null,e.particleBehind=null,e.mask=null,e._countFragment=0,e._fragmentsPosition=[],e._fontFragments=[],e._bodyFragments=[],e._isEnd=!1,e._behindJarChild=[],e._behindJarChildPosition=[],e._hamerAvatar=null,e._isBreak=!0,e}return r(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),c.eventTarget.on(c.CHECK_FRAGMENT,this.checkFragment,this),c.eventTarget.on(c.HAMMER,this.onHammer,this),c.eventTarget.on(c.RESET_BOTTLE,this.resetBottle,this),c.eventTarget.on(c.BEAT_GUILD,this.beatGuild,this),c.eventTarget.on(c.SHOW_FOG,this.showFog,this),this._fontFragments=this.getComponentsInChildren(a.default).map(function(t){return t.node}),this._fragmentsPosition=this._fontFragments.map(function(t){return t.position.clone()}),this._behindJarChild=this.behindJar.children.map(function(t){return t.getComponent(s.default)}),this._behindJarChildPosition=this.behindJar.children.map(function(t){return t.position.clone()}),this._hamerAvatar=this.hammerNode.getComponentInChildren(cc.Sprite),this.initFog()},e.prototype.initFog=function(){this.particleBehind.node.active=!1,this.particleFont.node.active=!1,this.particleFont.stopSystem(),this.particleBehind.stopSystem(),this.mask.opacity=0},e.prototype.showFog=function(t){this._countFragment>0||(this.particleFont.node.active=!0,this.particleBehind.node.active=!0,this.particleFont.node.position=t,this.particleFont.resetSystem(),this.particleBehind.resetSystem(),this.mask.active=!0,this.mask.opacity=200,this.mask.scale=1,cc.tween(this.mask).to(2,{scale:1.5}).to(5,{opacity:255,scale:2}).start())},e.prototype.checkFragment=function(t){var e=this;this._isEnd||(this._bodyFragments.push(t.name),this._countFragment++,2==this._countFragment&&cc.tween(this.mask).to(1,{opacity:200}).start(),3==this._countFragment&&(this.particleFont.stopSystem(),this.particleBehind.stopSystem(),cc.Tween.stopAllByTarget(this.mask),cc.tween(this.mask).to(1.5,{opacity:0}).call(function(){c.eventTarget.emit(c.DROP_ALL_FRAGMENT),e._behindJarChild.forEach(function(t){return t.onDrop()})}).delay(2).call(function(){return c.eventTarget.emit(c.SHOW_CARD_POPUP)}).start(),this._isEnd=!0))},e.prototype.beatGuild=function(){this.onHammer(cc.v2(-50,-50))},e.prototype.start=function(){this.resetHammer()},e.prototype.resetBottle=function(){var t=this;this._countFragment=0,this._bodyFragments=[],this._fontFragments.forEach(function(e,o){e.position=t._fragmentsPosition[o]}),this._behindJarChild.forEach(function(e,o){e.node.position=t._behindJarChildPosition[o],e.reset()}),c.eventTarget.emit(c.RESET_FRAGMENT),this._isEnd=!1,this.initFog()},e.prototype.onHammer=function(t){var e=this;this.hammerNode.active=!0,cc.Tween.stopAllByTarget(this.hammerNode),cc.tween(this.hammerNode).to(.5,{position:cc.v3(t.x,t.y,0)}).call(function(){return e.shakeNode()}).delay(.1).to(.2,{position:cc.v3(400,-400)}).call(function(){return e.hammerNode.active=!1}).start(),cc.tween(this._hamerAvatar.node).delay(.2).to(.2,{angle:-90}).to(.05,{angle:0}).call(function(){return c.eventTarget.emit(c.PLAY_BREAKING_SOUND)}).start()},e.prototype.shakeNode=function(){cc.director.getPhysicsManager().enabled=!1,c.eventTarget.emit(c.SHAKE_FRAGMENT),cc.tween(this.node).delay(.15).call(function(){return cc.director.getPhysicsManager().enabled=!0}).start()},e.prototype.onTouchStart=function(t){var e=this;c.eventTarget.emit(c.STOP_GUILD_TAP);var o=t.getLocation(),n=this.node.convertToNodeSpaceAR(o);this._isBreak&&(c.eventTarget.emit(c.CHECK_TOUCH,n),this._isBreak=!1,this.scheduleOnce(function(){return e._isBreak=!0},.5))},e.prototype.onTouchEnd=function(){},e.prototype.resetHammer=function(){this.hammerNode.position=cc.v3(300),this.hammerNode.active=!1},i([h(cc.Node)],e.prototype,"hammerNode",void 0),i([h(cc.Node)],e.prototype,"behindJar",void 0),i([h(cc.ParticleSystem)],e.prototype,"particleFont",void 0),i([h(cc.ParticleSystem)],e.prototype,"particleBehind",void 0),i([h(cc.Node)],e.prototype,"mask",void 0),i([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Events":"Events","./BehindFragment":"BehindFragment","./FragmentJarController":"FragmentJarController"}],CardPopup:[function(t,e,o){"use strict";cc._RF.push(e,"d57b9GtFClCfIU7h+numARU","CardPopup");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this._replayBtn=this.node.getComponentInChildren(cc.Button).node,this.node.active=!1,this.node.position=cc.v3(),c.eventTarget.on(c.SHOW_CARD_POPUP,this.showCard,this),this._replayBtn.on("click",this.onReplayBtnClick,this)},e.prototype.showCard=function(){this.node.active=!0},e.prototype.onReplayBtnClick=function(){this.node.active=!1,cc.director.loadScene("home")},i([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],DevicemotionController:[function(t,e,o){"use strict";cc._RF.push(e,"ba0b5Nq4fNP4KvnrykIXx3T","DevicemotionController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._x=0,e._y=0,e._z=0,e._count=0,e._isShake=!1,e._debug=null,e}return r(e,t),e.prototype.onLoad=function(){this._debug=this.node.getComponentInChildren(cc.Label),cc.sys.os===cc.sys.OS_IOS?this.setDeviceMotionIOS():this.scheduleOnce(this.setDeviceMotion,2)},e.prototype.setDeviceMotionIOS=function(){var t=this,e=function(e){t._debug.string=e};e("setDeviceMotionIOS"),window.DeviceMotionEvent?"function"==typeof DeviceMotionEvent.requestPermission?(e("requestPermission"),DeviceMotionEvent.requestPermission().then(function(o){e("requestPermission: "+o),"granted"===o?(e("granted setDeviceMotion"),t.setDeviceMotion()):(e("Kh\xf4ng \u0111\u01b0\u1ee3c c\u1ea5p quy\u1ec1n s\u1eed d\u1ee5ng DeviceMotion"),console.log("Kh\xf4ng \u0111\u01b0\u1ee3c c\u1ea5p quy\u1ec1n s\u1eed d\u1ee5ng DeviceMotion"))}).catch(function(t){console.error(t),e("Kh\xf4ng \u0111\u01b0\u1ee3c c\u1ea5p quy\u1ec1n s\u1eed d\u1ee5ng DeviceMotion")})):(e("Kh\xf4ng h\u1ed7 tr\u1ee3 requestPermission"),this.setDeviceMotion()):(e("Tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 DeviceMotion API"),console.log("Tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 DeviceMotion API"))},e.prototype.setDeviceMotion=function(){var t=this;window.addEventListener("devicemotion",function(e){if(e.accelerationIncludingGravity){var o=e.accelerationIncludingGravity.x,n=e.accelerationIncludingGravity.y,r=e.accelerationIncludingGravity.z;(o-t._x>5||n-t._y>5||r-t._z>5)&&t._isShake&&t._count++,(o-t._x<-5||n-t._y<-5||r-t._z<-5)&&(t._isShake||t._count++),t._count>0&&t.scheduleOnce(function(){t._count=0},2),t._count>5&&(t._count=0,t.shakeBottle()),t._x=o,t._y=n,t._z=r}})},e.prototype.shakeBottle=function(){var t=this;c.eventTarget.emit(c.PLAY_ROLLING_SOUND),cc.tween(this.node).repeat(5,cc.tween(this.node).call(function(){return t.vibratePhone()}).to(.2,{position:cc.v3(40,this.randomY(),0)}).to(.2,{position:cc.v3(-40,this.randomY(),0)})).to(.2,{position:cc.v3(0,0,0)}).start()},e.prototype.vibratePhone=function(){"vibrate"in navigator&&navigator.vibrate(200)},e.prototype.randomY=function(){return 100*Math.random()-50},i([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],Events:[function(t,e,o){"use strict";cc._RF.push(e,"bf46592JJVG6LXGcSiZuYIS","Events"),Object.defineProperty(o,"__esModule",{value:!0}),o.SHOW_SLOT_JAR=o.SHOW_FOG=o.SHAKE_FRAGMENT=o.DROP_TOP_FRAGMENT=o.DROP_ALL_FRAGMENT=o.RESET_FRAGMENT=o.RESET_BOTTLE=o.HAMMER=o.CHECK_FRAGMENT=o.CHECK_TOUCH=o.STOP_GUILD_TAP=o.START_GUILD_TAP=o.BEAT_GUILD=o.PLAY_DROP_SOUND=o.PLAY_BREAKING_SOUND=o.PLAY_ROLLING_SOUND=o.STOP_ANIM_CHUM=o.SHOW_CARD_POPUP=o.SHOW_START_SCREEN=o.SHOW_ACTION_SCREEN=o.eventTarget=void 0,o.eventTarget=new cc.EventTarget,o.SHOW_ACTION_SCREEN="SHOW_ACTION_SCREEN",o.SHOW_START_SCREEN="SHOW_START_SCREEN",o.SHOW_CARD_POPUP="SHOW_CARD_POPUP",o.STOP_ANIM_CHUM="STOP_ANIM_CHUM",o.PLAY_ROLLING_SOUND="PLAY_ROLLING_SOUND",o.PLAY_BREAKING_SOUND="PLAY_BREAKING_SOUND",o.PLAY_DROP_SOUND="PLAY_DROP_SOUND",o.BEAT_GUILD="BEAT_GUILD",o.START_GUILD_TAP="START_GUILD_TAP",o.STOP_GUILD_TAP="STOP_GUILD_TAP",o.CHECK_TOUCH="CHECK_TOUCH",o.CHECK_FRAGMENT="CHECK_FRAGMENT",o.HAMMER="HAMMER",o.RESET_BOTTLE="RESET_BOTTLE",o.RESET_FRAGMENT="RESET_FRAGMENT",o.DROP_ALL_FRAGMENT="DROP_ALL_FRAGMENT",o.DROP_TOP_FRAGMENT="DROP_TOP_FRAGMENT",o.SHAKE_FRAGMENT="SHAKE_FRAGMENT",o.SHOW_FOG="SHOW_FOG",o.SHOW_SLOT_JAR="SHOW_SLOT_JAR",cc._RF.pop()},{}],FragmentJarController:[function(t,e,o){"use strict";cc._RF.push(e,"6c740VuPjRONJYF5qy87yUs","FragmentJarController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=t("../Global"),a=t("./SlotJar"),p=cc._decorator,l=p.ccclass,h=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotJarIndex=[],e.isDropped=!1,e._physicsCollider=null,e._rg=null,e._siblingIndex=0,e._numberOfBeats=3,e._slotJar=null,e}return r(e,t),e.prototype.onLoad=function(){this._slotJar=this.node.getComponentInChildren(a.default),this._physicsCollider=this.node.getComponent(cc.PhysicsPolygonCollider),this._rg=this.node.getComponent(cc.RigidBody),this._siblingIndex=this.node.getSiblingIndex(),this.reset(),c.eventTarget.on(c.CHECK_TOUCH,this.checkTouch,this),c.eventTarget.on(c.RESET_FRAGMENT,this.reset,this),c.eventTarget.on(c.DROP_ALL_FRAGMENT,this.dropAllFragment,this),c.eventTarget.on(c.SHAKE_FRAGMENT,this.shakeFragment,this)},e.prototype.reset=function(){this._physicsCollider.enabled=!1,this._rg.type=cc.RigidBodyType.Static,this.node.angle=0,this.node.scale=1,this.node.setSiblingIndex(this._siblingIndex),this.isDropped=!1,this._numberOfBeats=3},e.prototype.shakeFragment=function(){this.isDropped||cc.tween(this.node).repeat(2,cc.tween(this.node).by(.05,{position:cc.v3(-10,-10)}).by(.05,{position:cc.v3(10,10)})).start()},e.prototype.checkTouch=function(t){var e=this;if(!this.isDropped){var o=this.node.parent.position,n=t.clone().subtract(cc.v2(o.x,o.y)).subtract(this._physicsCollider.offset);cc.Intersection.pointInPolygon(n,this._physicsCollider.points)&&(this._numberOfBeats--,c.eventTarget.emit(c.HAMMER,t),this.scheduleOnce(function(){c.eventTarget.emit(c.SHOW_SLOT_JAR,e.slotJarIndex,3-e._numberOfBeats),e.node.scale=1-.02*(3-e._numberOfBeats)},.5),1==this._numberOfBeats&&c.eventTarget.emit(c.SHOW_FOG,this.node.position),this._numberOfBeats>0||this.dropFragment())}},e.prototype.dropAllFragment=function(){this.isDropped||(this._slotJar.showSlots(3),this.dropFragment())},e.prototype.dropFragment=function(){var t=this;this.isDropped||(this.isDropped=!0,this.node.position,c.eventTarget.emit(c.CHECK_FRAGMENT,this.node),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).delay(.5).repeat(4,cc.tween(this.node).by(s.Global.getRandomTimeSkew(),{position:cc.v3(-5,-5)}).by(s.Global.getRandomTimeSkew(),{position:cc.v3(5,5)})).call(function(){c.eventTarget.emit(c.PLAY_DROP_SOUND),t.node.setSiblingIndex(-1)}).call(function(){t._physicsCollider.enabled=!0,t._rg.type=cc.RigidBodyType.Dynamic,t._physicsCollider.enabled=!1,t._rg.gravityScale=15}).delay(.4).call(function(){return t._physicsCollider.enabled=!0}).delay(.6).to(0,{scale:1}).start())},i([h([Number])],e.prototype,"slotJarIndex",void 0),i([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Events":"Events","../Global":"Global","./SlotJar":"SlotJar"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"183ca7N4SxOJpqhpTBHMK1y","Global"),Object.defineProperty(o,"__esModule",{value:!0}),o.Global=void 0;var n=function(){function t(){}return t.getRandomTimeSkew=function(){return.05*Math.random()+.03},t}();o.Global=n,cc._RF.pop()},{}],SlotJar:[function(t,e,o){"use strict";cc._RF.push(e,"35c38MoQkxHiJs43Jq5ANmu","SlotJar");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._slotBreak2thNodes=[],e._slotBreak1thNodes=[],e._slotShowder={},e}return r(e,t),e.prototype.onLoad=function(){this._slotBreak1thNodes=this.node.children,this._slotBreak2thNodes=this._slotBreak1thNodes.map(function(t){return t.children[0]}),this.resetSlots(),c.eventTarget.on(c.RESET_BOTTLE,this.resetSlots,this),c.eventTarget.on(c.SHOW_SLOT_JAR,this.showSlotByIndex,this)},e.prototype.showSlotByIndex=function(t,e){var o=this;t.forEach(function(t){o._slotShowder[t]>1||(o._slotShowder[t]=e,o._slotBreak1thNodes[t].active=!0,o._slotBreak2thNodes[t].active=e>=2)})},e.prototype.showSlots=function(t){this._slotBreak1thNodes.forEach(function(t){return t.active=!0}),this._slotBreak2thNodes.forEach(function(e){return e.active=t>=2})},e.prototype.resetSlots=function(){this._slotBreak1thNodes.forEach(function(t){return t.active=!1}),this._slotBreak2thNodes.map(function(t){return t.active=!1}),this._slotShowder={}},i([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"bccdbjIIvVBZoLltHmAttIC","SoundManager");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Events"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rollingSound=null,e.breakingSound=null,e.dropSound=null,e}return r(e,t),e.prototype.onLoad=function(){c.eventTarget.on(c.PLAY_ROLLING_SOUND,this.playRollingSound,this),c.eventTarget.on(c.PLAY_BREAKING_SOUND,this.playBreakingSound,this),c.eventTarget.on(c.PLAY_DROP_SOUND,this.playDropSound,this)},e.prototype.playRollingSound=function(){this.rollingSound.play()},e.prototype.playBreakingSound=function(){this.breakingSound.play()},e.prototype.playDropSound=function(){this.dropSound.play()},i([p(cc.AudioSource)],e.prototype,"rollingSound",void 0),i([p(cc.AudioSource)],e.prototype,"breakingSound",void 0),i([p(cc.AudioSource)],e.prototype,"dropSound",void 0),i([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Events":"Events"}],StartScreen:[function(t,e,o){"use strict";cc._RF.push(e,"4cdbdL97VxHIokBkhUMm2qL","StartScreen");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectBtnNode=null,e}return r(e,t),e.prototype.onLoad=function(){this.selectBtnNode.on("click",this.onSelectBtnClick,this)},e.prototype.onSelectBtnClick=function(){cc.director.loadScene("main")},i([a(cc.Node)],e.prototype,"selectBtnNode",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],TapTutorialController:[function(t,e,o){"use strict";cc._RF.push(e,"2c2cbdHwQFCdpQMA/zXzBGt","TapTutorialController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Events"),s=cc._decorator,a=s.ccclass,p=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this._hand=this.node.children[0],c.eventTarget.on(c.STOP_GUILD_TAP,this.stopGuild,this),c.eventTarget.on(c.START_GUILD_TAP,this.tutorialTap,this)},e.prototype.stopGuild=function(){cc.Tween.stopAllByTarget(this._hand),this._hand.active=!1},e.prototype.tutorialTap=function(){this._hand.active=!0,cc.tween(this._hand).repeatForever(cc.tween(this._hand).to(0,{position:cc.v3(120,100)}).to(.2,{angle:15}).to(.2,{angle:-15}).to(.15,{position:cc.v3(110,80)}).call(function(){return c.eventTarget.emit(c.BEAT_GUILD)}).delay(1)).start()},e.prototype.tutorialTapForFragements=function(){this._hand.active=!0,cc.tween(this._hand).repeatForever(cc.tween(this._hand).to(0,{position:cc.v3(120,100),opacity:255}).to(.2,{angle:15}).to(.2,{angle:-15}).to(.15,{position:cc.v3(110,80)}).call(function(){return c.eventTarget.emit(c.BEAT_GUILD)}).to(.5,{opacity:0}).delay(2)).start()},i([a],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../Events":"Events"}],TheController:[function(t,e,o){"use strict";cc._RF.push(e,"16a952mWXdLX4fDDoWJWpu4","TheController");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frames=[],e._spine=null,e._skins=["goi","the"],e._textSprite=null,e}return r(e,t),e.prototype.onLoad=function(){var t=this;this._textSprite=this.getComponentInChildren(cc.Sprite),this._spine=this.node.getComponent(sp.Skeleton),this._spine.setCompleteListener(function(e){"Open"==e.animation.name&&t._spine.setAnimation(0,"Idle",!0)})},e.prototype.onEnable=function(){this._spine.setAnimation(0,"Open",!1),this._spine.timeScale=.5;var t=this.getRandomInt(0,this._skins.length);this._spine.setSkin(this._skins[t]),this._textSprite.spriteFrame=this.frames[t]},e.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},i([a([cc.SpriteFrame])],e.prototype,"frames",void 0),i([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"1e4fa50nAtL1YyEWX980C3J","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}]},{},["Events","BGController","BehindFragment","BreakingJarController","DevicemotionController","FragmentJarController","SlotJar","TheController","Global","SoundManager","TapTutorialController","CardPopup","StartScreen","Utils"]);